\input{../tex/preambule}
\geometry{top=3cm,bottom=3cm}

\title{\vspace{\fill}\textbf{\Huge Organigramme}}
\author{Sonny Klotz - Jean-Didier Pailleux - Malek Zemni\vspace{2em}\\\textit{Interface de chargement, de contrôle}\\\textit{et d’analyse statistique des données}\\\textit{pour la constitution d’un graphe de flux}\vspace{2em}}

\begin{document}
\pagenumbering{gobble}\clearpage
\maketitle\vspace{\fill}
\newpage\clearpage\pagenumbering{arabic}
	
	\section{Présentation de l'organigramme}
		Le projet peut être décomposé en 3 grands paquets :
		\begin{itemize}
		\item Une \textbf{interface graphique web} : module d'interface utilisateur qui va faire transiter les informations entre les différentes APIs
		\item Une \textbf{API 1 de chargement des données} : composée de 3 modules
		\item Une \textbf{API 2 d'analyse descriptive des données} : composée de 3 modules
		\end{itemize}
		
		\begin{figure}[h]\begin{tikzpicture}
			\begin{scope}[xscale=2,yscale=1.5]	
				\node (IW) at (0,5) [rectangle,draw,text depth=3cm,minimum width=17cm,minimum height=4cm,font=\textbf\Large] {\begin{tabular}{c}Interface web\end{tabular}};
				\node (F2) [rectangle,draw,dashed] at ([yshift=0.4cm]IW.center) {\begin{tabular}{c}Fenêtre échantillons\end{tabular}};
				\node (F1) [rectangle,draw,dashed] at ([xshift=-3.7cm]F2.east) {\begin{tabular}{c}Fenêtre chargement fichier\end{tabular}};
				\node (F3) [rectangle,draw,dashed] at ([xshift=3.7cm]F2.west) {\begin{tabular}{c}Fenêtre résultats ADD\end{tabular}};
				\node (MAIN) [rectangle,draw,dashed,below=of F2.south,yshift=0cm] {\begin{tabular}{c}Main - Application\end{tabular}};

				
				\node (API1) at (-2.5,0) [rectangle,draw,fill=blue!25,text depth=5.5cm,minimum width=5cm,minimum height=5cm,font=\textbf\Large] {\begin{tabular}{c}API 1\end{tabular}};
				\node (VERIF) [rectangle,draw,dashed,fill=white] at ([yshift=1cm]API1.center){\begin{tabular}{c}Vérification fichier\end{tabular}};
				\node (ANALS) [rectangle,draw,dashed,fill=white,below=of VERIF.south,yshift=0cm] {\begin{tabular}{c}Analyse syntaxique\end{tabular}};
				\node (DESC) [rectangle,draw,dashed,fill=white,below=of ANALS.south,yshift=0cm] {\begin{tabular}{c}Description colonne\end{tabular}};				
				\node (API2) at (2.5,0) [rectangle,draw,fill=blue!25,text depth=7cm,minimum width=5cm,minimum height=7.5cm,font=\textbf\Large] {\begin{tabular}{c}API 2\end{tabular}};
				\node (ADD1) [rectangle,draw,dashed,fill=white] at ([yshift=1.4cm]API2.center){\begin{tabular}{c}AD qualitatives\end{tabular}};
				\node (ADD2) [rectangle,draw,dashed,fill=white,below=of ADD1.south,yshift=0cm] {\begin{tabular}{c}AD quantitatives\\discrètes\end{tabular}};
				\node (ADD3) [rectangle,draw,dashed,fill=white,below=of ADD2.south,yshift=0cm] {\begin{tabular}{c}AD quantitatives\\continues\end{tabular}};
				
				\path[->,>=stealth'] (MAIN) edge[bend left=10] node[anchor=south,left]{1} (F1);
				\path[->,>=stealth'] (F1) edge[bend left=10] node[anchor=south,left]{2} (MAIN);
				\path[->,>=stealth'] (MAIN) edge[bend left=10] node[anchor=south,left]{3} (F2);
				\path[->,>=stealth'] (F2) edge[bend left=10] node[anchor=south,right]{4} (MAIN);
				\path[->,>=stealth'] (MAIN) edge[bend left=10] node[anchor=south,right]{5} (F3);
				\path[->,>=stealth'] (F3) edge[bend left=10] node[anchor=south,right]{6} (MAIN);
				
				\draw[-triangle 45] (MAIN.190) -- node[anchor=south,left] {7} (VERIF.70);
				\draw[-triangle 45] (VERIF.50) -- node[anchor=south,right] {8} (MAIN.195);
				\draw[-triangle 45] (MAIN.200) -- node[anchor=south,left] {9} (ANALS.15);
				\draw[-triangle 45] (ANALS.5) -- node[anchor=south,right] {10} (MAIN.205);				
				\draw[-triangle 45] (MAIN.210) |- node[anchor=north,above] {11} (DESC.10);
				\draw[-triangle 45] (DESC) -| node[anchor=south,below] {12} (MAIN.220);				
				
				\draw[-triangle 45] (MAIN.350) -- node[anchor=south,right] {13} (ADD1.100);
				\draw[-triangle 45] (ADD1.120) -- node[anchor=south,left] {14} (MAIN.345);
				\draw[-triangle 45] (MAIN.340) -- node[anchor=south,right] {15} (ADD2.155);
				\draw[-triangle 45] (ADD2.170) -- node[anchor=south,left] {16} (MAIN.335);				
				\draw[-triangle 45] (MAIN.330) |- node[anchor=north,above] {17} (ADD3.165);
				\draw[-triangle 45] (ADD3) -| node[anchor=south,below] {18} (MAIN.320);
				
				
			\end{scope}
			%Légende
			\begin{scope}
				\node (LEGENDE) at (-7,-5) {\textbf{Légende :}};
				\node (FAMILLE) at (-4.5,-5) [rectangle,draw] {\begin{tabular}{c}Famille\end{tabular}};
				\node (MODULE) at (-2,-5) [rectangle,draw,dashed] {\begin{tabular}{c}Module\end{tabular}};
				\path[->,>=stealth'] (0.5,-5.3) edge[bend left=0] node[anchor=south,above]{informations transmises} (3,-5.3);
			\end{scope}
		\end{tikzpicture}
		\caption{Organigramme des différents modules du logiciel}\label{fig:M1}
		\end{figure}
		
		\hspace{-\parindent}\textbf{Notes :}\\
			(1) \\
			(2) \\
			(3) \\
			(4) \\
			(5) \\
			(6) \\
			(7) Fichier \lstinline!.csv! : lancement de la vérification de son format\\
			(8) Fichier OK ou ERREUR : ouverture ou format du fichier\\
			(9) Fichier \lstinline!.csv! : lancement de l'analyse syntaxique de son contenu\\
			(10) \textbf{Structure 1} contenant les données du fichier, le nombre de lignes et le nombre de colonnes (taille de la structure)\\
			(11) \textbf{Structure 1} : lancement de la description des colonnes de la \textbf{Structure 1}\\
			(12) \textbf{Structure 2} contenant 3 champs d'informations sur chaque colonne : le type, le rôle et les données erronées\\
			(13) \\
			(14) \\
			(15) \\
			(16) \\
			(17) \\
			(18) \\
	
	\section{Fonctionnalités des modules}
		\subsection{API 1 : Chargement des données}
			L'API de chargement des données va être divisée en 3 modules :
			
			\subsubsection{Vérification format fichier :}
				Ce module va vérifier le fichier fourni en entrée en plusieurs points :
				\begin{itemize}
					\item l'ouverture du fichier a réussi
					\item le fichier est un \lstinline!.csv! contenant du texte brut non formaté (pas de mise en forme avec des balises ou autres)
					\item le fichier est accessible en lecture
				\end{itemize}
			
			\subsubsection{Analyse syntaxique contenu :}
				Ce module va exécuter une analyse syntaxique sur le texte du fichier \lstinline!.csv! afin de détecter les différentes données et les stocker dans une structure.
				\begin{lstlisting}[language=C]
					//On initialise une structure dynamique pouvant stocker les données du fichier (tableau 2D dynamique ou liste de listes)
					Pour toute ligne du fichier
						Lire les caractères de la ligne jusqu à sa fin
							Si on lit un caractère de séparation (une virgule, un point-virgule ou une tabulation) ou une fin de ligne, on stocke les caractères lus dans la case correspondante de la structure
				\end{lstlisting}
				Ce module fournit donc une structure contenant les données du fichier, le nombre de lignes et le nombre de colonnes (taille de la structure).
				
			\subsubsection{Description contenu colonnes :}
				Ce module va donner des informations préliminaires sur les données de chaque colonne du fichier :
				\begin{itemize}
					\item le type de chaque colonne
					\item le rôle de chaque colonne
					\item les données manquants ou erronées de chaque colonne
				\end{itemize}
				\begin{lstlisting}[language=C]
					//On initialise une structure dont la taille est le nombre de colonnes qui contient 3 champs
					Pour toute colonne du fichier
						Lire chaque donnée et la comparer au type attendu
							Si la donnée ne correspond pas au type, signaler dans la structure une donnée erronée
							A chaque fin de lecture de colonne, attribuer un rôle à celle-ci
				\end{lstlisting}
				Ce module fournit donc une structure contenant 3 informations sur chaque colonne : le type, le rôle et les données erronées.

				
		\subsection{API 2 : Analyse descriptive des données}
				\subsubsection{Module 1 :}
				\subsubsection{Module 2 :}
				\subsubsection{Module 3 :}
				Ce module est utilisé pour fournir des informations de statistiques descriptives sur les colonnes de données qui lui seront fournies. Ses fonctionnalités se décomposent en trois pour les différents types de données à traiter:\\
				\begin{enumerate}
				\item qualitatif : calcul des effectifs et fréquences d'apparition
				\item quantitatif discret :\\
					\begin{itemize}
					\item effectifs, effectifs cumulés, fréquence et fréquence cumulée
					\item moyenne
					\item médiane et autres quantiles
					\item variance et écart-type
					\item anomalies : boîte à moutaches de Tukey
					\item symétrie : coeff de Pearson ou coeff de Yule
					\item aplatissement : coeff de Fisher
					\end{itemize}
				\item quantitatif continu : on regroupe les valeurs en classe d'intervalles, on peut ensuite appliquer les mêmes techniques que pour les variables discrètes
				\end{enumerate}
			
		\subsection{Interface graphique web}
			Le module de l'interface graphique s'occupera de la manière dont l'application sera représentée à l'écran pour l'utilisateur, ce qui correspond au positionnement des éléments textuels, boutons et des fonctionnalités disponible dans une fenêtre. Voici une liste des principales fenêtres composant ce module avec leurs fonctionnalités :
			\begin{enumerate}
			\item Fenêtre de chargement pour récupérer un fichier \lstinline!.csv! avec validation du choix pour passer à la prochaine fenêtre (En renseignant son chemin dans le système de fichier, ou de la manière d'un Drag \& Drop).
			\item Fenêtre de contrôle préliminaire avec visualisation d'un échantillon du \lstinline!.csv!.		
				\begin{itemize}
				\item Affichera le nombre de lignes/colonnes contenu dans le .csv.
				\item Affichera le titre du fichier.
				\item Affichera un échantillon du contenu du \lstinline!.csv! (environ les 1000 premières lignes) avec un système de scroll.
				\item Affichage des lignes erronés (numéro de la ligne + contenu + type d'erreur).
				\item Mise en place d'un système de navigation sous forme d'onglet (Onglet erreurs, onglet échantillon,...). Cela permettra d'éviter que la fenêtre contienne trop d'informations.
				\item Affichage d'un bouton pour passer à l'étape de l'analyse de données.
				\end{itemize}
			\item Fenêtre correspondant à l'étape de l'analyse de données.
				\begin{itemize}
				\item L'Utilisateur devra sélectionner la colonne avec un clic, puis pourra lancer l'analyse sur celle-ci.
				\item La fenêtre affichera les résultats de l'étude qualitative (Médiane, Quantile et anomalie) d'une part et de l'étude quantitative (Histogramme et Diagramme de secteur) d'autre part.
				\item Un bouton pour lancer l'exportation des résultats sera disponible (Écriture dans un nouveau fichiers).
				\end{itemize}
			\end{enumerate}
		
	\section{Coûts}
		\begin{center}\begin{longtable}{|>{\centering}m{3cm}|>{\centering}m{4cm}|>{\centering\arraybackslash}m{7cm}|}			
				\hline \multicolumn{1}{|c}{\textbf{Module}} & \multicolumn{1}{|c|}{\textbf{Nombre de lignes}} & \multicolumn{1}{|c|}{\textbf{Coût}} \\
				\hline 	Salut & 113 & nada \\
				\hline 	
				\end{longtable}\vspace{1em}\end{center}
		
	\newpage\section{Sources}
		\begin{itemize}
		\item http://www.math.univ-toulouse.fr/~baccini/zpedago/asde.pdf
		\item http://www.math.univ-toulouse.fr/~besse/Wikistat/pdf/st-l-des-uni.pdf
		\item http://iml.univ-mrs.fr/~reboul/cours2.pdf
		\item http://commons.apache.org/proper/commons-math/userguide/stat.html
		\item https://hal.archives-ouvertes.fr/halshs-00287751/document
		\item Wikipédia: Données aberrantes.
		\end{itemize}
		
	
\end{document}
